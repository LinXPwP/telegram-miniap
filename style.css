:root {
  --bg-app: #0e0f11; --bg-surf: #16171a; --bg-surf-h: #1e2024; --bg-in: #232529;
  --accent: #ff1843; --accent-h: #ff335c; --accent-glow: rgba(255, 24, 67, 0.45);
  --txt-pri: #fff; --txt-sec: #9ca3af; --txt-mut: #6b7280;
  --ok: #10b981; --err: #ef4444;
  --font: 'Inter', sans-serif;
  --rad-xl: 24px; --rad-lg: 16px; --rad-md: 12px;
}
*, *::before, *::after { box-sizing: border-box; }
html, body { margin:0; padding:0; height:100%; width:100%; overflow:hidden; font-family:var(--font); background:var(--bg-app); color:var(--txt-pri); background-image:radial-gradient(circle at 50% -10%, #2a1216 0%, var(--bg-app) 50%); }

/* Utilities */
.hidden { display: none !important; }
.flex-center { display: flex; align-items: center; justify-content: center; }
.text-center { text-align: center; }
.full-width { width: 100%; }
.mr-2 { margin-right: 8px; }
::-webkit-scrollbar { width:4px; } ::-webkit-scrollbar-thumb { background:#333; border-radius:10px; }

/* Layout */
.app-wrapper { display:flex; flex-direction:column; height:100%; max-width:600px; margin:0 auto; background:var(--bg-app); position:relative; box-shadow:0 0 50px rgba(0,0,0,0.5); }
.main-content { flex:1; overflow:hidden; position:relative; display:flex; flex-direction:column; }

/* Header */
.header-bar { display:flex; justify-content:space-between; align-items:center; padding:8px 12px; background:rgba(14,15,17,0.95); border-bottom:1px solid rgba(255,255,255,0.05); z-index:10; backdrop-filter:blur(10px); }
.header-left, .header-right { display:flex; align-items:center; gap:12px; }
.brand-logo { display:flex; align-items:center; margin-left:-5px; }
.header-logo-img { height:42px; width:auto; }
.brand-text-suffix { font-weight:800; font-size:20px; letter-spacing:0.5px; margin-left:-21px; padding-top:2px; }

/* Buttons */
.btn-icon, .btn-icon-back { background:var(--bg-surf); border:1px solid rgba(255,255,255,0.05); color:var(--txt-sec); cursor:pointer; transition:0.2s; display:flex; align-items:center; justify-content:center; }
.btn-icon { width:34px; height:34px; border-radius:50%; }
.btn-icon-back { height:36px; padding:0 14px 0 8px; border-radius:99px; gap:6px; }
.btn-icon:hover, .btn-icon-back:hover { background:var(--bg-surf-h); color:var(--accent); border-color:rgba(255,24,67,0.3); }
.credits-pill-btn { background:rgba(255,24,67,0.1); border:1px solid rgba(255,24,67,0.2); padding:5px 12px; border-radius:99px; font-size:12px; display:flex; gap:6px; align-items:center; cursor:pointer; color:var(--txt-pri); }
.credits-pill-btn:hover { background:rgba(255,24,67,0.2); transform:scale(1.02); }
.credits-pill-btn .label { color:var(--accent); font-weight:600; }
.credits-pill-btn .add-icon { color:#fff; background:var(--accent); border-radius:50%; width:14px; height:14px; display:flex; align-items:center; justify-content:center; font-weight:bold; }

/* Views & Grid */
.tab-section { display:none; flex-direction:column; height:100%; width:100%; position:relative; }
.tab-section.active { display:flex; }
.shop-view { position:absolute; inset:0; display:flex; flex-direction:column; background:var(--bg-app); transform:translateX(100%); opacity:0; transition:0.3s; pointer-events:none; overflow-y:auto; padding-bottom:40px; }
.shop-view.active-view { transform:translateX(0); opacity:1; pointer-events:auto; z-index:5; }
.visual-grid { padding:20px; display:grid; grid-template-columns:repeat(2, 1fr); gap:16px; }

/* Cards */
.card-visual { background:var(--bg-surf); border-radius:var(--rad-lg); overflow:hidden; cursor:pointer; border:1px solid rgba(255,255,255,0.05); box-shadow:0 4px 10px rgba(0,0,0,0.2); transition:0.2s; display:flex; flex-direction:column; }
.card-visual:active { transform:scale(0.97); }
.card-img-container { width:100%; aspect-ratio:1/1; position:relative; background:#202226; overflow:hidden; }
.card-img { width:100%; height:100%; object-fit:cover; transition:0.4s; }
.card-visual:hover .card-img { transform:scale(1.05); }
.card-overlay { position:absolute; bottom:0; inset-inline:0; padding:12px; background:linear-gradient(to top, rgba(0,0,0,0.9), transparent); height:60%; display:flex; flex-direction:column; justify-content:flex-end; }
.prod-info { padding:12px; display:flex; flex-direction:column; flex:1; }
.prod-meta { margin-top:auto; display:flex; justify-content:space-between; align-items:center; }
.prod-price { color:var(--accent); font-weight:800; font-size:14px; }
.img-placeholder { display:flex; align-items:center; justify-content:center; width:100%; height:100%; font-size:32px; background:#2a2d32; color:rgba(255,255,255,0.1); }

/* Chat */
.chat-layout { display:flex; width:100%; height:100%; position:relative; }
.chat-sidebar { position:absolute; inset:0 auto 0 0; width:280px; background:#131417; border-right:1px solid #222; transform:translateX(-100%); transition:0.3s; z-index:50; overflow-y:auto; padding-top:20px; }
.tickets-drawer-open .chat-sidebar { transform:translateX(0); box-shadow:10px 0 30px rgba(0,0,0,0.5); }
.chat-main { flex:1; display:flex; flex-direction:column; min-width:0; background:var(--bg-app); height:100%; }
.chat-navbar { height:56px; display:flex; justify-content:space-between; align-items:center; padding:0 16px; background:rgba(22,23,26,0.95); border-bottom:1px solid rgba(255,255,255,0.05); }
.chat-item { padding:14px 20px; border-bottom:1px solid rgba(255,255,255,0.03); cursor:pointer; }
.chat-item.active { background:rgba(255,24,67,0.08); border-left:3px solid var(--accent); }
.ticket-status-pill { font-size:9px; padding:2px 6px; border-radius:4px; text-transform:uppercase; font-weight:700; margin-left:4px; }
.ticket-status-pill.open { color:var(--ok); background:rgba(16,185,129,0.15); }
.ticket-status-pill.closed { color:var(--txt-mut); background:rgba(255,255,255,0.05); }
.chat-viewport { flex:1; overflow-y:auto; padding:16px; display:flex; flex-direction:column; }
.msg-row { display:flex; gap:12px; margin-bottom:16px; animation:fadeIn 0.2s; }
.msg-avatar { width:36px; height:36px; border-radius:50%; background:linear-gradient(135deg, var(--accent), #aa0526); display:flex; align-items:center; justify-content:center; font-weight:700; flex-shrink:0; }
.msg-content { flex:1; min-width:0; }
.msg-reply-preview { padding:4px 8px; background:rgba(255,255,255,0.05); border-left:2px solid var(--txt-mut); font-size:11px; margin-bottom:4px; cursor:pointer; }
.chat-footer { padding:12px; background:var(--bg-surf); border-top:1px solid rgba(255,255,255,0.05); }
.chat-mode-bar { background:#2a2d32; padding:6px 12px; margin-bottom:8px; border-radius:6px; display:flex; justify-content:space-between; border-left:2px solid var(--accent); font-size:11px; }
.input-wrapper { display:flex; gap:8px; align-items:center; background:var(--bg-in); border-radius:24px; padding:6px 6px 6px 16px; border:1px solid transparent; }
.input-wrapper:focus-within { border-color:var(--accent); }
#chatInput { flex:1; background:transparent; border:none; color:#fff; outline:none; }
.btn-send { background:var(--accent); color:#fff; border:none; width:32px; height:32px; border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; }
.tickets-backdrop { position:absolute; inset:0; background:rgba(0,0,0,0.8); opacity:0; pointer-events:none; transition:0.3s; z-index:40; }
.tickets-drawer-open .tickets-backdrop { opacity:1; pointer-events:auto; }
.menu-toggle { background:transparent; border:none; padding:4px; display:flex; flex-direction:column; gap:4px; cursor:pointer; }
.menu-toggle span { width:20px; height:2px; background:var(--txt-sec); transition:0.3s; }
.tickets-drawer-open .menu-toggle span:nth-child(1) { transform:rotate(45deg) translate(5px,5px); }
.tickets-drawer-open .menu-toggle span:nth-child(2) { opacity:0; }
.tickets-drawer-open .menu-toggle span:nth-child(3) { transform:rotate(-45deg) translate(4px,-4px); }

/* Modals */
.modal-overlay { position:fixed; inset:0; background:rgba(0,0,0,0.85); backdrop-filter:blur(5px); display:flex; align-items:center; justify-content:center; z-index:100; }
.modal-card { width:90%; max-width:360px; background:#1a1c20; border:1px solid rgba(255,255,255,0.1); border-radius:var(--rad-xl); padding:24px; position:relative; max-height:85vh; display:flex; flex-direction:column; overflow:hidden; animation:scaleIn 0.2s; }
.modal-close { position:absolute; top:12px; right:12px; background:rgba(0,0,0,0.7); border:1px solid rgba(255,255,255,0.1); color:#fff; width:36px; height:36px; border-radius:50%; cursor:pointer; z-index:50; transition:0.2s; display:flex; align-items:center; justify-content:center; }
.modal-close:hover { background:var(--accent); transform:rotate(90deg); }
.modal-body { flex:1; overflow-y:auto; margin-bottom:12px; }
.modal-img-wrapper { width:100%; height:180px; background:#111; border-radius:var(--rad-lg); margin-bottom:16px; position:relative; display:flex; align-items:center; justify-content:center; overflow:hidden; }
.modal-img-wrapper img { width:100%; height:100%; object-fit:cover; z-index:2; }
.types-grid { display:grid; grid-template-columns:1fr 1fr; gap:8px; margin-top:8px; }
.type-card { background:var(--bg-surf-h); border:1px solid rgba(255,255,255,0.1); border-radius:8px; padding:10px; cursor:pointer; text-align:center; }
.type-card.active { background:rgba(255,24,67,0.15); border-color:var(--accent); }
.btn-primary { background:linear-gradient(135deg, var(--accent), #d6002a); color:#fff; border:none; padding:12px; border-radius:99px; font-weight:600; cursor:pointer; }
.btn-secondary { background:rgba(255,255,255,0.1); color:#fff; border:none; padding:12px; border-radius:99px; cursor:pointer; }
.modal-actions-grid { display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.instruction-step { background:rgba(255,255,255,0.03); padding:10px; border-radius:12px; display:flex; gap:12px; align-items:center; border:1px solid rgba(255,255,255,0.05); margin-bottom:8px; }
.step-num { background:var(--accent); width:24px; height:24px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:bold; font-size:12px; flex-shrink:0; }
.btn-discord-solid { background:#5865F2; color:#fff; display:flex; align-items:center; justify-content:center; padding:12px; border-radius:16px; text-decoration:none; margin-top:15px; }

/* Error Screen */
.access-error-screen { position:fixed; inset:0; z-index:9999; background:#050505; display:flex; align-items:center; justify-content:center; padding:24px; }
.error-card { background:rgba(22,23,26,0.6); backdrop-filter:blur(20px); border:1px solid rgba(255,255,255,0.08); padding:40px 30px; border-radius:32px; width:100%; max-width:360px; text-align:center; }
.lock-icon-wrapper { width:80px; height:80px; margin:0 auto 24px; position:relative; color:var(--accent); display:flex; align-items:center; justify-content:center; }
.lock-glow { position:absolute; inset:0; background:radial-gradient(circle, rgba(255,24,67,0.2), transparent 70%); animation:pulse 3s infinite; }
.btn-tg-gradient { background:linear-gradient(135deg, #2AABEE, #229ED9); color:#fff; padding:14px; border-radius:16px; text-decoration:none; display:block; font-weight:600; margin-top:20px; }
@keyframes scaleIn { from{transform:scale(0.9);}to{transform:scale(1);} } @keyframes fadeIn { from{opacity:0;}to{opacity:1;} } @keyframes pulse { 0%,100%{transform:scale(0.8);opacity:0.5} 50%{transform:scale(1.2);opacity:0.8} }
