<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>MiniApp</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body style="background:#111; color:white; font-family:Arial;">

  <h2>MiniApp Test</h2>
  <p><b>Username:</b> <span id="username">loading...</span></p>
  <p><b>Status:</b> <span id="status">loading...</span></p>

  <script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    const user = tg.initDataUnsafe.user;
    const ADMIN_ID = 7672256597;

    if (user) {
      document.getElementById("username").innerText =
        user.username ? "@" + user.username : "fără username";

      const isAdmin = user.id === ADMIN_ID;
      document.getElementById("status").innerText =
        isAdmin ? "Administrator" : "Utilizator normal";
    } else {
      document.getElementById("username").innerText = "Nu s-a putut citi userul";
      document.getElementById("status").innerText = "Eroare";
    }
  </script>

</body>
</html>
